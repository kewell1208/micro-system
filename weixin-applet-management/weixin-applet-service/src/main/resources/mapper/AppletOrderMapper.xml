<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tclab.weixinappletservice.dao.AppletOrderMapper">
  <resultMap id="BaseResultMap" type="com.tclab.weixinappletservice.pojo.AppletOrder">
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="pid" jdbcType="VARCHAR" property="pid" />
    <result column="order_no" jdbcType="VARCHAR" property="orderNo" />
    <result column="merchant_id" jdbcType="VARCHAR" property="merchantId" />
    <result column="order_type" jdbcType="INTEGER" property="orderType" />
    <result column="service_type" jdbcType="INTEGER" property="serviceType" />
    <result column="acquisition_id" jdbcType="VARCHAR" property="acquisitionId" />
    <result column="acquisition_name" jdbcType="VARCHAR" property="acquisitionName" />
    <result column="good_name" jdbcType="VARCHAR" property="goodName" />
    <result column="user_id" jdbcType="VARCHAR" property="userId" />
    <result column="user_name" jdbcType="VARCHAR" property="userName" />
    <result column="user_phone" jdbcType="VARCHAR" property="userPhone" />
    <result column="user_id_card" jdbcType="VARCHAR" property="userIdCard" />
    <result column="service_info_id" jdbcType="VARCHAR" property="serviceInfoId" />
    <result column="service_info_address" jdbcType="VARCHAR" property="serviceInfoAddress" />
    <result column="service_info_person" jdbcType="VARCHAR" property="serviceInfoPerson" />
    <result column="service_info_phone" jdbcType="VARCHAR" property="serviceInfoPhone" />
    <result column="participant_id" jdbcType="VARCHAR" property="participantId" />
    <result column="participant_name" jdbcType="VARCHAR" property="participantName" />
    <result column="participant_phone" jdbcType="VARCHAR" property="participantPhone" />
    <result column="participant_id_card" jdbcType="VARCHAR" property="participantIdCard" />
    <result column="order_apply_date" jdbcType="TIMESTAMP" property="orderApplyDate" />
    <result column="order_current_apply_date" jdbcType="TIMESTAMP" property="orderCurrentApplyDate" />
    <result column="order_complete_apply_date" jdbcType="TIMESTAMP" property="orderCompleteApplyDate" />
    <result column="pay_amount" jdbcType="DECIMAL" property="payAmount" />
    <result column="total_amount" jdbcType="DECIMAL" property="totalAmount" />
    <result column="discount_amount" jdbcType="DECIMAL" property="discountAmount" />
    <result column="discount_type" jdbcType="INTEGER" property="discountType" />
    <result column="promotion_id" jdbcType="VARCHAR" property="promotionId" />
    <result column="promotion_name" jdbcType="VARCHAR" property="promotionName" />
    <result column="discount_id" jdbcType="VARCHAR" property="discountId" />
    <result column="discount_name" jdbcType="VARCHAR" property="discountName" />
    <result column="order_status" jdbcType="INTEGER" property="orderStatus" />
    <result column="verify_status" jdbcType="INTEGER" property="verifyStatus" />
    <result column="verify_date" jdbcType="TIMESTAMP" property="verifyDate" />
    <result column="auditor_id" jdbcType="VARCHAR" property="auditorId" />
    <result column="pay_status" jdbcType="INTEGER" property="payStatus" />
    <result column="pre_no" jdbcType="VARCHAR" property="preNo" />
    <result column="pay_no" jdbcType="VARCHAR" property="payNo" />
    <result column="pay_date" jdbcType="TIMESTAMP" property="payDate" />
    <result column="refund_status" jdbcType="INTEGER" property="refundStatus" />
    <result column="refund_amount" jdbcType="DECIMAL" property="refundAmount" />
    <result column="refund_reason" jdbcType="INTEGER" property="refundReason" />
    <result column="logistics_status" jdbcType="INTEGER" property="logisticsStatus" />
    <result column="logistics_type" jdbcType="INTEGER" property="logisticsType" />
    <result column="logistics_id" jdbcType="VARCHAR" property="logisticsId" />
    <result column="write_off_status" jdbcType="INTEGER" property="writeOffStatus" />
    <result column="write_off_code" jdbcType="VARCHAR" property="writeOffCode" />
    <result column="write_off_date" jdbcType="TIMESTAMP" property="writeOffDate" />
    <result column="cost_department_commission_amount" jdbcType="VARCHAR" property="costDepartmentCommissionAmount" />
    <result column="cost_organization_commission_amount" jdbcType="DECIMAL" property="costOrganizationCommissionAmount" />
    <result column="platform_commission_amount" jdbcType="DECIMAL" property="platformCommissionAmount" />
    <result column="order_remark" jdbcType="VARCHAR" property="orderRemark" />
    <result column="order_exception_status" jdbcType="INTEGER" property="orderExceptionStatus" />
    <result column="order_exception_reason" jdbcType="INTEGER" property="orderExceptionReason" />
    <result column="order_cancel_status" jdbcType="INTEGER" property="orderCancelStatus" />
    <result column="order_cancel_type" jdbcType="INTEGER" property="orderCancelType" />
    <result column="order_cancel_reason" jdbcType="INTEGER" property="orderCancelReason" />
    <result column="interpret_status" jdbcType="INTEGER" property="interpretStatus" />
    <result column="cost_report_charge_amount" jdbcType="DECIMAL" property="costReportChargeAmount" />
    <result column="cost_acquisition_charge_amount" jdbcType="DECIMAL" property="costAcquisitionChargeAmount" />
    <result column="cost_staff_commission_amount" jdbcType="DECIMAL" property="costStaffCommissionAmount" />
    <result column="staff_id" jdbcType="VARCHAR" property="staffId" />
    <result column="staff_phone" jdbcType="VARCHAR" property="staffPhone" />
    <result column="staff_name" jdbcType="VARCHAR" property="staffName" />
    <result column="im_recommend_list_id" jdbcType="VARCHAR" property="imRecommendListId" />
    <result column="invoice_status" jdbcType="INTEGER" property="invoiceStatus" />
    <result column="invoice_apply_id" jdbcType="VARCHAR" property="invoiceApplyId" />
    <result column="del_flag" jdbcType="INTEGER" property="delFlag" />
    <result column="create_date" jdbcType="TIMESTAMP" property="createDate" />
    <result column="update_date" jdbcType="TIMESTAMP" property="updateDate" />
    <result column="interpret_staff_id" jdbcType="VARCHAR" property="interpretStaffId" />
    <result column="message_status" jdbcType="VARCHAR" property="messageStatus" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    id, pid, order_no, merchant_id, order_type, service_type, acquisition_id, acquisition_name, 
    good_name, user_id, user_name, user_phone, user_id_card, service_info_id, service_info_address, 
    service_info_person, service_info_phone, participant_id, participant_name, participant_phone, 
    participant_id_card, order_apply_date, order_current_apply_date, order_complete_apply_date, 
    pay_amount, total_amount, discount_amount, discount_type, promotion_id, promotion_name, 
    discount_id, discount_name, order_status, verify_status, verify_date, auditor_id, 
    pay_status, pre_no, pay_no, pay_date, refund_status, refund_amount, refund_reason, 
    logistics_status, logistics_type, logistics_id, write_off_status, write_off_code, 
    write_off_date, cost_department_commission_amount, cost_organization_commission_amount, 
    platform_commission_amount, order_remark, order_exception_status, order_exception_reason, 
    order_cancel_status, order_cancel_type, order_cancel_reason, interpret_status, cost_report_charge_amount, 
    cost_acquisition_charge_amount, cost_staff_commission_amount, staff_id, staff_phone, 
    staff_name, im_recommend_list_id, invoice_status, invoice_apply_id, del_flag, create_date, 
    update_date, interpret_staff_id, message_status
  </sql>
  <select id="selectByExample" parameterType="com.tclab.weixinappletservice.pojo.AppletOrderExample" resultMap="BaseResultMap">
    select
    <if test="distinct">
      distinct
    </if>
    'true' as QUERYID,
    <include refid="Base_Column_List" />
    from applet_order
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from applet_order
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    delete from applet_order
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="com.tclab.weixinappletservice.pojo.AppletOrderExample">
    delete from applet_order
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.tclab.weixinappletservice.pojo.AppletOrder">
    <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Integer">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into applet_order (pid, order_no, merchant_id, 
      order_type, service_type, acquisition_id, 
      acquisition_name, good_name, user_id, 
      user_name, user_phone, user_id_card, 
      service_info_id, service_info_address, service_info_person, 
      service_info_phone, participant_id, participant_name, 
      participant_phone, participant_id_card, order_apply_date, 
      order_current_apply_date, order_complete_apply_date, 
      pay_amount, total_amount, discount_amount, 
      discount_type, promotion_id, promotion_name, 
      discount_id, discount_name, order_status, 
      verify_status, verify_date, auditor_id, 
      pay_status, pre_no, pay_no, 
      pay_date, refund_status, refund_amount, 
      refund_reason, logistics_status, logistics_type, 
      logistics_id, write_off_status, write_off_code, 
      write_off_date, cost_department_commission_amount, 
      cost_organization_commission_amount, platform_commission_amount, 
      order_remark, order_exception_status, order_exception_reason, 
      order_cancel_status, order_cancel_type, order_cancel_reason, 
      interpret_status, cost_report_charge_amount, 
      cost_acquisition_charge_amount, cost_staff_commission_amount, 
      staff_id, staff_phone, staff_name, 
      im_recommend_list_id, invoice_status, invoice_apply_id, 
      del_flag, create_date, update_date, 
      interpret_staff_id, message_status)
    values (#{pid,jdbcType=VARCHAR}, #{orderNo,jdbcType=VARCHAR}, #{merchantId,jdbcType=VARCHAR}, 
      #{orderType,jdbcType=INTEGER}, #{serviceType,jdbcType=INTEGER}, #{acquisitionId,jdbcType=VARCHAR}, 
      #{acquisitionName,jdbcType=VARCHAR}, #{goodName,jdbcType=VARCHAR}, #{userId,jdbcType=VARCHAR}, 
      #{userName,jdbcType=VARCHAR}, #{userPhone,jdbcType=VARCHAR}, #{userIdCard,jdbcType=VARCHAR}, 
      #{serviceInfoId,jdbcType=VARCHAR}, #{serviceInfoAddress,jdbcType=VARCHAR}, #{serviceInfoPerson,jdbcType=VARCHAR}, 
      #{serviceInfoPhone,jdbcType=VARCHAR}, #{participantId,jdbcType=VARCHAR}, #{participantName,jdbcType=VARCHAR}, 
      #{participantPhone,jdbcType=VARCHAR}, #{participantIdCard,jdbcType=VARCHAR}, #{orderApplyDate,jdbcType=TIMESTAMP}, 
      #{orderCurrentApplyDate,jdbcType=TIMESTAMP}, #{orderCompleteApplyDate,jdbcType=TIMESTAMP}, 
      #{payAmount,jdbcType=DECIMAL}, #{totalAmount,jdbcType=DECIMAL}, #{discountAmount,jdbcType=DECIMAL}, 
      #{discountType,jdbcType=INTEGER}, #{promotionId,jdbcType=VARCHAR}, #{promotionName,jdbcType=VARCHAR}, 
      #{discountId,jdbcType=VARCHAR}, #{discountName,jdbcType=VARCHAR}, #{orderStatus,jdbcType=INTEGER}, 
      #{verifyStatus,jdbcType=INTEGER}, #{verifyDate,jdbcType=TIMESTAMP}, #{auditorId,jdbcType=VARCHAR}, 
      #{payStatus,jdbcType=INTEGER}, #{preNo,jdbcType=VARCHAR}, #{payNo,jdbcType=VARCHAR}, 
      #{payDate,jdbcType=TIMESTAMP}, #{refundStatus,jdbcType=INTEGER}, #{refundAmount,jdbcType=DECIMAL}, 
      #{refundReason,jdbcType=INTEGER}, #{logisticsStatus,jdbcType=INTEGER}, #{logisticsType,jdbcType=INTEGER}, 
      #{logisticsId,jdbcType=VARCHAR}, #{writeOffStatus,jdbcType=INTEGER}, #{writeOffCode,jdbcType=VARCHAR}, 
      #{writeOffDate,jdbcType=TIMESTAMP}, #{costDepartmentCommissionAmount,jdbcType=VARCHAR}, 
      #{costOrganizationCommissionAmount,jdbcType=DECIMAL}, #{platformCommissionAmount,jdbcType=DECIMAL}, 
      #{orderRemark,jdbcType=VARCHAR}, #{orderExceptionStatus,jdbcType=INTEGER}, #{orderExceptionReason,jdbcType=INTEGER}, 
      #{orderCancelStatus,jdbcType=INTEGER}, #{orderCancelType,jdbcType=INTEGER}, #{orderCancelReason,jdbcType=INTEGER}, 
      #{interpretStatus,jdbcType=INTEGER}, #{costReportChargeAmount,jdbcType=DECIMAL}, 
      #{costAcquisitionChargeAmount,jdbcType=DECIMAL}, #{costStaffCommissionAmount,jdbcType=DECIMAL}, 
      #{staffId,jdbcType=VARCHAR}, #{staffPhone,jdbcType=VARCHAR}, #{staffName,jdbcType=VARCHAR}, 
      #{imRecommendListId,jdbcType=VARCHAR}, #{invoiceStatus,jdbcType=INTEGER}, #{invoiceApplyId,jdbcType=VARCHAR}, 
      #{delFlag,jdbcType=INTEGER}, #{createDate,jdbcType=TIMESTAMP}, #{updateDate,jdbcType=TIMESTAMP}, 
      #{interpretStaffId,jdbcType=VARCHAR}, #{messageStatus,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.tclab.weixinappletservice.pojo.AppletOrder">
    <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Integer">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into applet_order
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="pid != null">
        pid,
      </if>
      <if test="orderNo != null">
        order_no,
      </if>
      <if test="merchantId != null">
        merchant_id,
      </if>
      <if test="orderType != null">
        order_type,
      </if>
      <if test="serviceType != null">
        service_type,
      </if>
      <if test="acquisitionId != null">
        acquisition_id,
      </if>
      <if test="acquisitionName != null">
        acquisition_name,
      </if>
      <if test="goodName != null">
        good_name,
      </if>
      <if test="userId != null">
        user_id,
      </if>
      <if test="userName != null">
        user_name,
      </if>
      <if test="userPhone != null">
        user_phone,
      </if>
      <if test="userIdCard != null">
        user_id_card,
      </if>
      <if test="serviceInfoId != null">
        service_info_id,
      </if>
      <if test="serviceInfoAddress != null">
        service_info_address,
      </if>
      <if test="serviceInfoPerson != null">
        service_info_person,
      </if>
      <if test="serviceInfoPhone != null">
        service_info_phone,
      </if>
      <if test="participantId != null">
        participant_id,
      </if>
      <if test="participantName != null">
        participant_name,
      </if>
      <if test="participantPhone != null">
        participant_phone,
      </if>
      <if test="participantIdCard != null">
        participant_id_card,
      </if>
      <if test="orderApplyDate != null">
        order_apply_date,
      </if>
      <if test="orderCurrentApplyDate != null">
        order_current_apply_date,
      </if>
      <if test="orderCompleteApplyDate != null">
        order_complete_apply_date,
      </if>
      <if test="payAmount != null">
        pay_amount,
      </if>
      <if test="totalAmount != null">
        total_amount,
      </if>
      <if test="discountAmount != null">
        discount_amount,
      </if>
      <if test="discountType != null">
        discount_type,
      </if>
      <if test="promotionId != null">
        promotion_id,
      </if>
      <if test="promotionName != null">
        promotion_name,
      </if>
      <if test="discountId != null">
        discount_id,
      </if>
      <if test="discountName != null">
        discount_name,
      </if>
      <if test="orderStatus != null">
        order_status,
      </if>
      <if test="verifyStatus != null">
        verify_status,
      </if>
      <if test="verifyDate != null">
        verify_date,
      </if>
      <if test="auditorId != null">
        auditor_id,
      </if>
      <if test="payStatus != null">
        pay_status,
      </if>
      <if test="preNo != null">
        pre_no,
      </if>
      <if test="payNo != null">
        pay_no,
      </if>
      <if test="payDate != null">
        pay_date,
      </if>
      <if test="refundStatus != null">
        refund_status,
      </if>
      <if test="refundAmount != null">
        refund_amount,
      </if>
      <if test="refundReason != null">
        refund_reason,
      </if>
      <if test="logisticsStatus != null">
        logistics_status,
      </if>
      <if test="logisticsType != null">
        logistics_type,
      </if>
      <if test="logisticsId != null">
        logistics_id,
      </if>
      <if test="writeOffStatus != null">
        write_off_status,
      </if>
      <if test="writeOffCode != null">
        write_off_code,
      </if>
      <if test="writeOffDate != null">
        write_off_date,
      </if>
      <if test="costDepartmentCommissionAmount != null">
        cost_department_commission_amount,
      </if>
      <if test="costOrganizationCommissionAmount != null">
        cost_organization_commission_amount,
      </if>
      <if test="platformCommissionAmount != null">
        platform_commission_amount,
      </if>
      <if test="orderRemark != null">
        order_remark,
      </if>
      <if test="orderExceptionStatus != null">
        order_exception_status,
      </if>
      <if test="orderExceptionReason != null">
        order_exception_reason,
      </if>
      <if test="orderCancelStatus != null">
        order_cancel_status,
      </if>
      <if test="orderCancelType != null">
        order_cancel_type,
      </if>
      <if test="orderCancelReason != null">
        order_cancel_reason,
      </if>
      <if test="interpretStatus != null">
        interpret_status,
      </if>
      <if test="costReportChargeAmount != null">
        cost_report_charge_amount,
      </if>
      <if test="costAcquisitionChargeAmount != null">
        cost_acquisition_charge_amount,
      </if>
      <if test="costStaffCommissionAmount != null">
        cost_staff_commission_amount,
      </if>
      <if test="staffId != null">
        staff_id,
      </if>
      <if test="staffPhone != null">
        staff_phone,
      </if>
      <if test="staffName != null">
        staff_name,
      </if>
      <if test="imRecommendListId != null">
        im_recommend_list_id,
      </if>
      <if test="invoiceStatus != null">
        invoice_status,
      </if>
      <if test="invoiceApplyId != null">
        invoice_apply_id,
      </if>
      <if test="delFlag != null">
        del_flag,
      </if>
      <if test="createDate != null">
        create_date,
      </if>
      <if test="updateDate != null">
        update_date,
      </if>
      <if test="interpretStaffId != null">
        interpret_staff_id,
      </if>
      <if test="messageStatus != null">
        message_status,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="pid != null">
        #{pid,jdbcType=VARCHAR},
      </if>
      <if test="orderNo != null">
        #{orderNo,jdbcType=VARCHAR},
      </if>
      <if test="merchantId != null">
        #{merchantId,jdbcType=VARCHAR},
      </if>
      <if test="orderType != null">
        #{orderType,jdbcType=INTEGER},
      </if>
      <if test="serviceType != null">
        #{serviceType,jdbcType=INTEGER},
      </if>
      <if test="acquisitionId != null">
        #{acquisitionId,jdbcType=VARCHAR},
      </if>
      <if test="acquisitionName != null">
        #{acquisitionName,jdbcType=VARCHAR},
      </if>
      <if test="goodName != null">
        #{goodName,jdbcType=VARCHAR},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=VARCHAR},
      </if>
      <if test="userName != null">
        #{userName,jdbcType=VARCHAR},
      </if>
      <if test="userPhone != null">
        #{userPhone,jdbcType=VARCHAR},
      </if>
      <if test="userIdCard != null">
        #{userIdCard,jdbcType=VARCHAR},
      </if>
      <if test="serviceInfoId != null">
        #{serviceInfoId,jdbcType=VARCHAR},
      </if>
      <if test="serviceInfoAddress != null">
        #{serviceInfoAddress,jdbcType=VARCHAR},
      </if>
      <if test="serviceInfoPerson != null">
        #{serviceInfoPerson,jdbcType=VARCHAR},
      </if>
      <if test="serviceInfoPhone != null">
        #{serviceInfoPhone,jdbcType=VARCHAR},
      </if>
      <if test="participantId != null">
        #{participantId,jdbcType=VARCHAR},
      </if>
      <if test="participantName != null">
        #{participantName,jdbcType=VARCHAR},
      </if>
      <if test="participantPhone != null">
        #{participantPhone,jdbcType=VARCHAR},
      </if>
      <if test="participantIdCard != null">
        #{participantIdCard,jdbcType=VARCHAR},
      </if>
      <if test="orderApplyDate != null">
        #{orderApplyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="orderCurrentApplyDate != null">
        #{orderCurrentApplyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="orderCompleteApplyDate != null">
        #{orderCompleteApplyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="payAmount != null">
        #{payAmount,jdbcType=DECIMAL},
      </if>
      <if test="totalAmount != null">
        #{totalAmount,jdbcType=DECIMAL},
      </if>
      <if test="discountAmount != null">
        #{discountAmount,jdbcType=DECIMAL},
      </if>
      <if test="discountType != null">
        #{discountType,jdbcType=INTEGER},
      </if>
      <if test="promotionId != null">
        #{promotionId,jdbcType=VARCHAR},
      </if>
      <if test="promotionName != null">
        #{promotionName,jdbcType=VARCHAR},
      </if>
      <if test="discountId != null">
        #{discountId,jdbcType=VARCHAR},
      </if>
      <if test="discountName != null">
        #{discountName,jdbcType=VARCHAR},
      </if>
      <if test="orderStatus != null">
        #{orderStatus,jdbcType=INTEGER},
      </if>
      <if test="verifyStatus != null">
        #{verifyStatus,jdbcType=INTEGER},
      </if>
      <if test="verifyDate != null">
        #{verifyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="auditorId != null">
        #{auditorId,jdbcType=VARCHAR},
      </if>
      <if test="payStatus != null">
        #{payStatus,jdbcType=INTEGER},
      </if>
      <if test="preNo != null">
        #{preNo,jdbcType=VARCHAR},
      </if>
      <if test="payNo != null">
        #{payNo,jdbcType=VARCHAR},
      </if>
      <if test="payDate != null">
        #{payDate,jdbcType=TIMESTAMP},
      </if>
      <if test="refundStatus != null">
        #{refundStatus,jdbcType=INTEGER},
      </if>
      <if test="refundAmount != null">
        #{refundAmount,jdbcType=DECIMAL},
      </if>
      <if test="refundReason != null">
        #{refundReason,jdbcType=INTEGER},
      </if>
      <if test="logisticsStatus != null">
        #{logisticsStatus,jdbcType=INTEGER},
      </if>
      <if test="logisticsType != null">
        #{logisticsType,jdbcType=INTEGER},
      </if>
      <if test="logisticsId != null">
        #{logisticsId,jdbcType=VARCHAR},
      </if>
      <if test="writeOffStatus != null">
        #{writeOffStatus,jdbcType=INTEGER},
      </if>
      <if test="writeOffCode != null">
        #{writeOffCode,jdbcType=VARCHAR},
      </if>
      <if test="writeOffDate != null">
        #{writeOffDate,jdbcType=TIMESTAMP},
      </if>
      <if test="costDepartmentCommissionAmount != null">
        #{costDepartmentCommissionAmount,jdbcType=VARCHAR},
      </if>
      <if test="costOrganizationCommissionAmount != null">
        #{costOrganizationCommissionAmount,jdbcType=DECIMAL},
      </if>
      <if test="platformCommissionAmount != null">
        #{platformCommissionAmount,jdbcType=DECIMAL},
      </if>
      <if test="orderRemark != null">
        #{orderRemark,jdbcType=VARCHAR},
      </if>
      <if test="orderExceptionStatus != null">
        #{orderExceptionStatus,jdbcType=INTEGER},
      </if>
      <if test="orderExceptionReason != null">
        #{orderExceptionReason,jdbcType=INTEGER},
      </if>
      <if test="orderCancelStatus != null">
        #{orderCancelStatus,jdbcType=INTEGER},
      </if>
      <if test="orderCancelType != null">
        #{orderCancelType,jdbcType=INTEGER},
      </if>
      <if test="orderCancelReason != null">
        #{orderCancelReason,jdbcType=INTEGER},
      </if>
      <if test="interpretStatus != null">
        #{interpretStatus,jdbcType=INTEGER},
      </if>
      <if test="costReportChargeAmount != null">
        #{costReportChargeAmount,jdbcType=DECIMAL},
      </if>
      <if test="costAcquisitionChargeAmount != null">
        #{costAcquisitionChargeAmount,jdbcType=DECIMAL},
      </if>
      <if test="costStaffCommissionAmount != null">
        #{costStaffCommissionAmount,jdbcType=DECIMAL},
      </if>
      <if test="staffId != null">
        #{staffId,jdbcType=VARCHAR},
      </if>
      <if test="staffPhone != null">
        #{staffPhone,jdbcType=VARCHAR},
      </if>
      <if test="staffName != null">
        #{staffName,jdbcType=VARCHAR},
      </if>
      <if test="imRecommendListId != null">
        #{imRecommendListId,jdbcType=VARCHAR},
      </if>
      <if test="invoiceStatus != null">
        #{invoiceStatus,jdbcType=INTEGER},
      </if>
      <if test="invoiceApplyId != null">
        #{invoiceApplyId,jdbcType=VARCHAR},
      </if>
      <if test="delFlag != null">
        #{delFlag,jdbcType=INTEGER},
      </if>
      <if test="createDate != null">
        #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="updateDate != null">
        #{updateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="interpretStaffId != null">
        #{interpretStaffId,jdbcType=VARCHAR},
      </if>
      <if test="messageStatus != null">
        #{messageStatus,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.tclab.weixinappletservice.pojo.AppletOrderExample" resultType="java.lang.Long">
    select count(*) from applet_order
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    update applet_order
    <set>
      <if test="record.id != null">
        id = #{record.id,jdbcType=INTEGER},
      </if>
      <if test="record.pid != null">
        pid = #{record.pid,jdbcType=VARCHAR},
      </if>
      <if test="record.orderNo != null">
        order_no = #{record.orderNo,jdbcType=VARCHAR},
      </if>
      <if test="record.merchantId != null">
        merchant_id = #{record.merchantId,jdbcType=VARCHAR},
      </if>
      <if test="record.orderType != null">
        order_type = #{record.orderType,jdbcType=INTEGER},
      </if>
      <if test="record.serviceType != null">
        service_type = #{record.serviceType,jdbcType=INTEGER},
      </if>
      <if test="record.acquisitionId != null">
        acquisition_id = #{record.acquisitionId,jdbcType=VARCHAR},
      </if>
      <if test="record.acquisitionName != null">
        acquisition_name = #{record.acquisitionName,jdbcType=VARCHAR},
      </if>
      <if test="record.goodName != null">
        good_name = #{record.goodName,jdbcType=VARCHAR},
      </if>
      <if test="record.userId != null">
        user_id = #{record.userId,jdbcType=VARCHAR},
      </if>
      <if test="record.userName != null">
        user_name = #{record.userName,jdbcType=VARCHAR},
      </if>
      <if test="record.userPhone != null">
        user_phone = #{record.userPhone,jdbcType=VARCHAR},
      </if>
      <if test="record.userIdCard != null">
        user_id_card = #{record.userIdCard,jdbcType=VARCHAR},
      </if>
      <if test="record.serviceInfoId != null">
        service_info_id = #{record.serviceInfoId,jdbcType=VARCHAR},
      </if>
      <if test="record.serviceInfoAddress != null">
        service_info_address = #{record.serviceInfoAddress,jdbcType=VARCHAR},
      </if>
      <if test="record.serviceInfoPerson != null">
        service_info_person = #{record.serviceInfoPerson,jdbcType=VARCHAR},
      </if>
      <if test="record.serviceInfoPhone != null">
        service_info_phone = #{record.serviceInfoPhone,jdbcType=VARCHAR},
      </if>
      <if test="record.participantId != null">
        participant_id = #{record.participantId,jdbcType=VARCHAR},
      </if>
      <if test="record.participantName != null">
        participant_name = #{record.participantName,jdbcType=VARCHAR},
      </if>
      <if test="record.participantPhone != null">
        participant_phone = #{record.participantPhone,jdbcType=VARCHAR},
      </if>
      <if test="record.participantIdCard != null">
        participant_id_card = #{record.participantIdCard,jdbcType=VARCHAR},
      </if>
      <if test="record.orderApplyDate != null">
        order_apply_date = #{record.orderApplyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.orderCurrentApplyDate != null">
        order_current_apply_date = #{record.orderCurrentApplyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.orderCompleteApplyDate != null">
        order_complete_apply_date = #{record.orderCompleteApplyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.payAmount != null">
        pay_amount = #{record.payAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.totalAmount != null">
        total_amount = #{record.totalAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.discountAmount != null">
        discount_amount = #{record.discountAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.discountType != null">
        discount_type = #{record.discountType,jdbcType=INTEGER},
      </if>
      <if test="record.promotionId != null">
        promotion_id = #{record.promotionId,jdbcType=VARCHAR},
      </if>
      <if test="record.promotionName != null">
        promotion_name = #{record.promotionName,jdbcType=VARCHAR},
      </if>
      <if test="record.discountId != null">
        discount_id = #{record.discountId,jdbcType=VARCHAR},
      </if>
      <if test="record.discountName != null">
        discount_name = #{record.discountName,jdbcType=VARCHAR},
      </if>
      <if test="record.orderStatus != null">
        order_status = #{record.orderStatus,jdbcType=INTEGER},
      </if>
      <if test="record.verifyStatus != null">
        verify_status = #{record.verifyStatus,jdbcType=INTEGER},
      </if>
      <if test="record.verifyDate != null">
        verify_date = #{record.verifyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.auditorId != null">
        auditor_id = #{record.auditorId,jdbcType=VARCHAR},
      </if>
      <if test="record.payStatus != null">
        pay_status = #{record.payStatus,jdbcType=INTEGER},
      </if>
      <if test="record.preNo != null">
        pre_no = #{record.preNo,jdbcType=VARCHAR},
      </if>
      <if test="record.payNo != null">
        pay_no = #{record.payNo,jdbcType=VARCHAR},
      </if>
      <if test="record.payDate != null">
        pay_date = #{record.payDate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.refundStatus != null">
        refund_status = #{record.refundStatus,jdbcType=INTEGER},
      </if>
      <if test="record.refundAmount != null">
        refund_amount = #{record.refundAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.refundReason != null">
        refund_reason = #{record.refundReason,jdbcType=INTEGER},
      </if>
      <if test="record.logisticsStatus != null">
        logistics_status = #{record.logisticsStatus,jdbcType=INTEGER},
      </if>
      <if test="record.logisticsType != null">
        logistics_type = #{record.logisticsType,jdbcType=INTEGER},
      </if>
      <if test="record.logisticsId != null">
        logistics_id = #{record.logisticsId,jdbcType=VARCHAR},
      </if>
      <if test="record.writeOffStatus != null">
        write_off_status = #{record.writeOffStatus,jdbcType=INTEGER},
      </if>
      <if test="record.writeOffCode != null">
        write_off_code = #{record.writeOffCode,jdbcType=VARCHAR},
      </if>
      <if test="record.writeOffDate != null">
        write_off_date = #{record.writeOffDate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.costDepartmentCommissionAmount != null">
        cost_department_commission_amount = #{record.costDepartmentCommissionAmount,jdbcType=VARCHAR},
      </if>
      <if test="record.costOrganizationCommissionAmount != null">
        cost_organization_commission_amount = #{record.costOrganizationCommissionAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.platformCommissionAmount != null">
        platform_commission_amount = #{record.platformCommissionAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.orderRemark != null">
        order_remark = #{record.orderRemark,jdbcType=VARCHAR},
      </if>
      <if test="record.orderExceptionStatus != null">
        order_exception_status = #{record.orderExceptionStatus,jdbcType=INTEGER},
      </if>
      <if test="record.orderExceptionReason != null">
        order_exception_reason = #{record.orderExceptionReason,jdbcType=INTEGER},
      </if>
      <if test="record.orderCancelStatus != null">
        order_cancel_status = #{record.orderCancelStatus,jdbcType=INTEGER},
      </if>
      <if test="record.orderCancelType != null">
        order_cancel_type = #{record.orderCancelType,jdbcType=INTEGER},
      </if>
      <if test="record.orderCancelReason != null">
        order_cancel_reason = #{record.orderCancelReason,jdbcType=INTEGER},
      </if>
      <if test="record.interpretStatus != null">
        interpret_status = #{record.interpretStatus,jdbcType=INTEGER},
      </if>
      <if test="record.costReportChargeAmount != null">
        cost_report_charge_amount = #{record.costReportChargeAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.costAcquisitionChargeAmount != null">
        cost_acquisition_charge_amount = #{record.costAcquisitionChargeAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.costStaffCommissionAmount != null">
        cost_staff_commission_amount = #{record.costStaffCommissionAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.staffId != null">
        staff_id = #{record.staffId,jdbcType=VARCHAR},
      </if>
      <if test="record.staffPhone != null">
        staff_phone = #{record.staffPhone,jdbcType=VARCHAR},
      </if>
      <if test="record.staffName != null">
        staff_name = #{record.staffName,jdbcType=VARCHAR},
      </if>
      <if test="record.imRecommendListId != null">
        im_recommend_list_id = #{record.imRecommendListId,jdbcType=VARCHAR},
      </if>
      <if test="record.invoiceStatus != null">
        invoice_status = #{record.invoiceStatus,jdbcType=INTEGER},
      </if>
      <if test="record.invoiceApplyId != null">
        invoice_apply_id = #{record.invoiceApplyId,jdbcType=VARCHAR},
      </if>
      <if test="record.delFlag != null">
        del_flag = #{record.delFlag,jdbcType=INTEGER},
      </if>
      <if test="record.createDate != null">
        create_date = #{record.createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.updateDate != null">
        update_date = #{record.updateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.interpretStaffId != null">
        interpret_staff_id = #{record.interpretStaffId,jdbcType=VARCHAR},
      </if>
      <if test="record.messageStatus != null">
        message_status = #{record.messageStatus,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    update applet_order
    set id = #{record.id,jdbcType=INTEGER},
      pid = #{record.pid,jdbcType=VARCHAR},
      order_no = #{record.orderNo,jdbcType=VARCHAR},
      merchant_id = #{record.merchantId,jdbcType=VARCHAR},
      order_type = #{record.orderType,jdbcType=INTEGER},
      service_type = #{record.serviceType,jdbcType=INTEGER},
      acquisition_id = #{record.acquisitionId,jdbcType=VARCHAR},
      acquisition_name = #{record.acquisitionName,jdbcType=VARCHAR},
      good_name = #{record.goodName,jdbcType=VARCHAR},
      user_id = #{record.userId,jdbcType=VARCHAR},
      user_name = #{record.userName,jdbcType=VARCHAR},
      user_phone = #{record.userPhone,jdbcType=VARCHAR},
      user_id_card = #{record.userIdCard,jdbcType=VARCHAR},
      service_info_id = #{record.serviceInfoId,jdbcType=VARCHAR},
      service_info_address = #{record.serviceInfoAddress,jdbcType=VARCHAR},
      service_info_person = #{record.serviceInfoPerson,jdbcType=VARCHAR},
      service_info_phone = #{record.serviceInfoPhone,jdbcType=VARCHAR},
      participant_id = #{record.participantId,jdbcType=VARCHAR},
      participant_name = #{record.participantName,jdbcType=VARCHAR},
      participant_phone = #{record.participantPhone,jdbcType=VARCHAR},
      participant_id_card = #{record.participantIdCard,jdbcType=VARCHAR},
      order_apply_date = #{record.orderApplyDate,jdbcType=TIMESTAMP},
      order_current_apply_date = #{record.orderCurrentApplyDate,jdbcType=TIMESTAMP},
      order_complete_apply_date = #{record.orderCompleteApplyDate,jdbcType=TIMESTAMP},
      pay_amount = #{record.payAmount,jdbcType=DECIMAL},
      total_amount = #{record.totalAmount,jdbcType=DECIMAL},
      discount_amount = #{record.discountAmount,jdbcType=DECIMAL},
      discount_type = #{record.discountType,jdbcType=INTEGER},
      promotion_id = #{record.promotionId,jdbcType=VARCHAR},
      promotion_name = #{record.promotionName,jdbcType=VARCHAR},
      discount_id = #{record.discountId,jdbcType=VARCHAR},
      discount_name = #{record.discountName,jdbcType=VARCHAR},
      order_status = #{record.orderStatus,jdbcType=INTEGER},
      verify_status = #{record.verifyStatus,jdbcType=INTEGER},
      verify_date = #{record.verifyDate,jdbcType=TIMESTAMP},
      auditor_id = #{record.auditorId,jdbcType=VARCHAR},
      pay_status = #{record.payStatus,jdbcType=INTEGER},
      pre_no = #{record.preNo,jdbcType=VARCHAR},
      pay_no = #{record.payNo,jdbcType=VARCHAR},
      pay_date = #{record.payDate,jdbcType=TIMESTAMP},
      refund_status = #{record.refundStatus,jdbcType=INTEGER},
      refund_amount = #{record.refundAmount,jdbcType=DECIMAL},
      refund_reason = #{record.refundReason,jdbcType=INTEGER},
      logistics_status = #{record.logisticsStatus,jdbcType=INTEGER},
      logistics_type = #{record.logisticsType,jdbcType=INTEGER},
      logistics_id = #{record.logisticsId,jdbcType=VARCHAR},
      write_off_status = #{record.writeOffStatus,jdbcType=INTEGER},
      write_off_code = #{record.writeOffCode,jdbcType=VARCHAR},
      write_off_date = #{record.writeOffDate,jdbcType=TIMESTAMP},
      cost_department_commission_amount = #{record.costDepartmentCommissionAmount,jdbcType=VARCHAR},
      cost_organization_commission_amount = #{record.costOrganizationCommissionAmount,jdbcType=DECIMAL},
      platform_commission_amount = #{record.platformCommissionAmount,jdbcType=DECIMAL},
      order_remark = #{record.orderRemark,jdbcType=VARCHAR},
      order_exception_status = #{record.orderExceptionStatus,jdbcType=INTEGER},
      order_exception_reason = #{record.orderExceptionReason,jdbcType=INTEGER},
      order_cancel_status = #{record.orderCancelStatus,jdbcType=INTEGER},
      order_cancel_type = #{record.orderCancelType,jdbcType=INTEGER},
      order_cancel_reason = #{record.orderCancelReason,jdbcType=INTEGER},
      interpret_status = #{record.interpretStatus,jdbcType=INTEGER},
      cost_report_charge_amount = #{record.costReportChargeAmount,jdbcType=DECIMAL},
      cost_acquisition_charge_amount = #{record.costAcquisitionChargeAmount,jdbcType=DECIMAL},
      cost_staff_commission_amount = #{record.costStaffCommissionAmount,jdbcType=DECIMAL},
      staff_id = #{record.staffId,jdbcType=VARCHAR},
      staff_phone = #{record.staffPhone,jdbcType=VARCHAR},
      staff_name = #{record.staffName,jdbcType=VARCHAR},
      im_recommend_list_id = #{record.imRecommendListId,jdbcType=VARCHAR},
      invoice_status = #{record.invoiceStatus,jdbcType=INTEGER},
      invoice_apply_id = #{record.invoiceApplyId,jdbcType=VARCHAR},
      del_flag = #{record.delFlag,jdbcType=INTEGER},
      create_date = #{record.createDate,jdbcType=TIMESTAMP},
      update_date = #{record.updateDate,jdbcType=TIMESTAMP},
      interpret_staff_id = #{record.interpretStaffId,jdbcType=VARCHAR},
      message_status = #{record.messageStatus,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.tclab.weixinappletservice.pojo.AppletOrder">
    update applet_order
    <set>
      <if test="pid != null">
        pid = #{pid,jdbcType=VARCHAR},
      </if>
      <if test="orderNo != null">
        order_no = #{orderNo,jdbcType=VARCHAR},
      </if>
      <if test="merchantId != null">
        merchant_id = #{merchantId,jdbcType=VARCHAR},
      </if>
      <if test="orderType != null">
        order_type = #{orderType,jdbcType=INTEGER},
      </if>
      <if test="serviceType != null">
        service_type = #{serviceType,jdbcType=INTEGER},
      </if>
      <if test="acquisitionId != null">
        acquisition_id = #{acquisitionId,jdbcType=VARCHAR},
      </if>
      <if test="acquisitionName != null">
        acquisition_name = #{acquisitionName,jdbcType=VARCHAR},
      </if>
      <if test="goodName != null">
        good_name = #{goodName,jdbcType=VARCHAR},
      </if>
      <if test="userId != null">
        user_id = #{userId,jdbcType=VARCHAR},
      </if>
      <if test="userName != null">
        user_name = #{userName,jdbcType=VARCHAR},
      </if>
      <if test="userPhone != null">
        user_phone = #{userPhone,jdbcType=VARCHAR},
      </if>
      <if test="userIdCard != null">
        user_id_card = #{userIdCard,jdbcType=VARCHAR},
      </if>
      <if test="serviceInfoId != null">
        service_info_id = #{serviceInfoId,jdbcType=VARCHAR},
      </if>
      <if test="serviceInfoAddress != null">
        service_info_address = #{serviceInfoAddress,jdbcType=VARCHAR},
      </if>
      <if test="serviceInfoPerson != null">
        service_info_person = #{serviceInfoPerson,jdbcType=VARCHAR},
      </if>
      <if test="serviceInfoPhone != null">
        service_info_phone = #{serviceInfoPhone,jdbcType=VARCHAR},
      </if>
      <if test="participantId != null">
        participant_id = #{participantId,jdbcType=VARCHAR},
      </if>
      <if test="participantName != null">
        participant_name = #{participantName,jdbcType=VARCHAR},
      </if>
      <if test="participantPhone != null">
        participant_phone = #{participantPhone,jdbcType=VARCHAR},
      </if>
      <if test="participantIdCard != null">
        participant_id_card = #{participantIdCard,jdbcType=VARCHAR},
      </if>
      <if test="orderApplyDate != null">
        order_apply_date = #{orderApplyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="orderCurrentApplyDate != null">
        order_current_apply_date = #{orderCurrentApplyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="orderCompleteApplyDate != null">
        order_complete_apply_date = #{orderCompleteApplyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="payAmount != null">
        pay_amount = #{payAmount,jdbcType=DECIMAL},
      </if>
      <if test="totalAmount != null">
        total_amount = #{totalAmount,jdbcType=DECIMAL},
      </if>
      <if test="discountAmount != null">
        discount_amount = #{discountAmount,jdbcType=DECIMAL},
      </if>
      <if test="discountType != null">
        discount_type = #{discountType,jdbcType=INTEGER},
      </if>
      <if test="promotionId != null">
        promotion_id = #{promotionId,jdbcType=VARCHAR},
      </if>
      <if test="promotionName != null">
        promotion_name = #{promotionName,jdbcType=VARCHAR},
      </if>
      <if test="discountId != null">
        discount_id = #{discountId,jdbcType=VARCHAR},
      </if>
      <if test="discountName != null">
        discount_name = #{discountName,jdbcType=VARCHAR},
      </if>
      <if test="orderStatus != null">
        order_status = #{orderStatus,jdbcType=INTEGER},
      </if>
      <if test="verifyStatus != null">
        verify_status = #{verifyStatus,jdbcType=INTEGER},
      </if>
      <if test="verifyDate != null">
        verify_date = #{verifyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="auditorId != null">
        auditor_id = #{auditorId,jdbcType=VARCHAR},
      </if>
      <if test="payStatus != null">
        pay_status = #{payStatus,jdbcType=INTEGER},
      </if>
      <if test="preNo != null">
        pre_no = #{preNo,jdbcType=VARCHAR},
      </if>
      <if test="payNo != null">
        pay_no = #{payNo,jdbcType=VARCHAR},
      </if>
      <if test="payDate != null">
        pay_date = #{payDate,jdbcType=TIMESTAMP},
      </if>
      <if test="refundStatus != null">
        refund_status = #{refundStatus,jdbcType=INTEGER},
      </if>
      <if test="refundAmount != null">
        refund_amount = #{refundAmount,jdbcType=DECIMAL},
      </if>
      <if test="refundReason != null">
        refund_reason = #{refundReason,jdbcType=INTEGER},
      </if>
      <if test="logisticsStatus != null">
        logistics_status = #{logisticsStatus,jdbcType=INTEGER},
      </if>
      <if test="logisticsType != null">
        logistics_type = #{logisticsType,jdbcType=INTEGER},
      </if>
      <if test="logisticsId != null">
        logistics_id = #{logisticsId,jdbcType=VARCHAR},
      </if>
      <if test="writeOffStatus != null">
        write_off_status = #{writeOffStatus,jdbcType=INTEGER},
      </if>
      <if test="writeOffCode != null">
        write_off_code = #{writeOffCode,jdbcType=VARCHAR},
      </if>
      <if test="writeOffDate != null">
        write_off_date = #{writeOffDate,jdbcType=TIMESTAMP},
      </if>
      <if test="costDepartmentCommissionAmount != null">
        cost_department_commission_amount = #{costDepartmentCommissionAmount,jdbcType=VARCHAR},
      </if>
      <if test="costOrganizationCommissionAmount != null">
        cost_organization_commission_amount = #{costOrganizationCommissionAmount,jdbcType=DECIMAL},
      </if>
      <if test="platformCommissionAmount != null">
        platform_commission_amount = #{platformCommissionAmount,jdbcType=DECIMAL},
      </if>
      <if test="orderRemark != null">
        order_remark = #{orderRemark,jdbcType=VARCHAR},
      </if>
      <if test="orderExceptionStatus != null">
        order_exception_status = #{orderExceptionStatus,jdbcType=INTEGER},
      </if>
      <if test="orderExceptionReason != null">
        order_exception_reason = #{orderExceptionReason,jdbcType=INTEGER},
      </if>
      <if test="orderCancelStatus != null">
        order_cancel_status = #{orderCancelStatus,jdbcType=INTEGER},
      </if>
      <if test="orderCancelType != null">
        order_cancel_type = #{orderCancelType,jdbcType=INTEGER},
      </if>
      <if test="orderCancelReason != null">
        order_cancel_reason = #{orderCancelReason,jdbcType=INTEGER},
      </if>
      <if test="interpretStatus != null">
        interpret_status = #{interpretStatus,jdbcType=INTEGER},
      </if>
      <if test="costReportChargeAmount != null">
        cost_report_charge_amount = #{costReportChargeAmount,jdbcType=DECIMAL},
      </if>
      <if test="costAcquisitionChargeAmount != null">
        cost_acquisition_charge_amount = #{costAcquisitionChargeAmount,jdbcType=DECIMAL},
      </if>
      <if test="costStaffCommissionAmount != null">
        cost_staff_commission_amount = #{costStaffCommissionAmount,jdbcType=DECIMAL},
      </if>
      <if test="staffId != null">
        staff_id = #{staffId,jdbcType=VARCHAR},
      </if>
      <if test="staffPhone != null">
        staff_phone = #{staffPhone,jdbcType=VARCHAR},
      </if>
      <if test="staffName != null">
        staff_name = #{staffName,jdbcType=VARCHAR},
      </if>
      <if test="imRecommendListId != null">
        im_recommend_list_id = #{imRecommendListId,jdbcType=VARCHAR},
      </if>
      <if test="invoiceStatus != null">
        invoice_status = #{invoiceStatus,jdbcType=INTEGER},
      </if>
      <if test="invoiceApplyId != null">
        invoice_apply_id = #{invoiceApplyId,jdbcType=VARCHAR},
      </if>
      <if test="delFlag != null">
        del_flag = #{delFlag,jdbcType=INTEGER},
      </if>
      <if test="createDate != null">
        create_date = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="updateDate != null">
        update_date = #{updateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="interpretStaffId != null">
        interpret_staff_id = #{interpretStaffId,jdbcType=VARCHAR},
      </if>
      <if test="messageStatus != null">
        message_status = #{messageStatus,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.tclab.weixinappletservice.pojo.AppletOrder">
    update applet_order
    set pid = #{pid,jdbcType=VARCHAR},
      order_no = #{orderNo,jdbcType=VARCHAR},
      merchant_id = #{merchantId,jdbcType=VARCHAR},
      order_type = #{orderType,jdbcType=INTEGER},
      service_type = #{serviceType,jdbcType=INTEGER},
      acquisition_id = #{acquisitionId,jdbcType=VARCHAR},
      acquisition_name = #{acquisitionName,jdbcType=VARCHAR},
      good_name = #{goodName,jdbcType=VARCHAR},
      user_id = #{userId,jdbcType=VARCHAR},
      user_name = #{userName,jdbcType=VARCHAR},
      user_phone = #{userPhone,jdbcType=VARCHAR},
      user_id_card = #{userIdCard,jdbcType=VARCHAR},
      service_info_id = #{serviceInfoId,jdbcType=VARCHAR},
      service_info_address = #{serviceInfoAddress,jdbcType=VARCHAR},
      service_info_person = #{serviceInfoPerson,jdbcType=VARCHAR},
      service_info_phone = #{serviceInfoPhone,jdbcType=VARCHAR},
      participant_id = #{participantId,jdbcType=VARCHAR},
      participant_name = #{participantName,jdbcType=VARCHAR},
      participant_phone = #{participantPhone,jdbcType=VARCHAR},
      participant_id_card = #{participantIdCard,jdbcType=VARCHAR},
      order_apply_date = #{orderApplyDate,jdbcType=TIMESTAMP},
      order_current_apply_date = #{orderCurrentApplyDate,jdbcType=TIMESTAMP},
      order_complete_apply_date = #{orderCompleteApplyDate,jdbcType=TIMESTAMP},
      pay_amount = #{payAmount,jdbcType=DECIMAL},
      total_amount = #{totalAmount,jdbcType=DECIMAL},
      discount_amount = #{discountAmount,jdbcType=DECIMAL},
      discount_type = #{discountType,jdbcType=INTEGER},
      promotion_id = #{promotionId,jdbcType=VARCHAR},
      promotion_name = #{promotionName,jdbcType=VARCHAR},
      discount_id = #{discountId,jdbcType=VARCHAR},
      discount_name = #{discountName,jdbcType=VARCHAR},
      order_status = #{orderStatus,jdbcType=INTEGER},
      verify_status = #{verifyStatus,jdbcType=INTEGER},
      verify_date = #{verifyDate,jdbcType=TIMESTAMP},
      auditor_id = #{auditorId,jdbcType=VARCHAR},
      pay_status = #{payStatus,jdbcType=INTEGER},
      pre_no = #{preNo,jdbcType=VARCHAR},
      pay_no = #{payNo,jdbcType=VARCHAR},
      pay_date = #{payDate,jdbcType=TIMESTAMP},
      refund_status = #{refundStatus,jdbcType=INTEGER},
      refund_amount = #{refundAmount,jdbcType=DECIMAL},
      refund_reason = #{refundReason,jdbcType=INTEGER},
      logistics_status = #{logisticsStatus,jdbcType=INTEGER},
      logistics_type = #{logisticsType,jdbcType=INTEGER},
      logistics_id = #{logisticsId,jdbcType=VARCHAR},
      write_off_status = #{writeOffStatus,jdbcType=INTEGER},
      write_off_code = #{writeOffCode,jdbcType=VARCHAR},
      write_off_date = #{writeOffDate,jdbcType=TIMESTAMP},
      cost_department_commission_amount = #{costDepartmentCommissionAmount,jdbcType=VARCHAR},
      cost_organization_commission_amount = #{costOrganizationCommissionAmount,jdbcType=DECIMAL},
      platform_commission_amount = #{platformCommissionAmount,jdbcType=DECIMAL},
      order_remark = #{orderRemark,jdbcType=VARCHAR},
      order_exception_status = #{orderExceptionStatus,jdbcType=INTEGER},
      order_exception_reason = #{orderExceptionReason,jdbcType=INTEGER},
      order_cancel_status = #{orderCancelStatus,jdbcType=INTEGER},
      order_cancel_type = #{orderCancelType,jdbcType=INTEGER},
      order_cancel_reason = #{orderCancelReason,jdbcType=INTEGER},
      interpret_status = #{interpretStatus,jdbcType=INTEGER},
      cost_report_charge_amount = #{costReportChargeAmount,jdbcType=DECIMAL},
      cost_acquisition_charge_amount = #{costAcquisitionChargeAmount,jdbcType=DECIMAL},
      cost_staff_commission_amount = #{costStaffCommissionAmount,jdbcType=DECIMAL},
      staff_id = #{staffId,jdbcType=VARCHAR},
      staff_phone = #{staffPhone,jdbcType=VARCHAR},
      staff_name = #{staffName,jdbcType=VARCHAR},
      im_recommend_list_id = #{imRecommendListId,jdbcType=VARCHAR},
      invoice_status = #{invoiceStatus,jdbcType=INTEGER},
      invoice_apply_id = #{invoiceApplyId,jdbcType=VARCHAR},
      del_flag = #{delFlag,jdbcType=INTEGER},
      create_date = #{createDate,jdbcType=TIMESTAMP},
      update_date = #{updateDate,jdbcType=TIMESTAMP},
      interpret_staff_id = #{interpretStaffId,jdbcType=VARCHAR},
      message_status = #{messageStatus,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>

  <select id="selectParticipantAndRecentCollectInfoByNameOrPhone" parameterType="com.tclab.weixinappletservice.model.query.AcquisitionNameOrPhoneQueryParam" resultType="com.tclab.weixinappletservice.model.result.ParticipantRecentResult">

    SELECT
    d.maxOrderCompleteApplyDate,
    d.participantId,
    d.participantIdCard,
    d.participantName,
    d.participantPhone,
    e.participant_address AS participantAddress
    FROM(

    SELECT
    a.participantId,
    b.participant_name AS participantName,
    b.participant_id_card AS participantIdCard,
    b.participant_phone AS participantPhone,
    a.maxOrderCompleteApplyDate
    FROM
    (
    SELECT
    c.participant_id AS participantId,
    MAX(c.order_complete_apply_date) AS maxOrderCompleteApplyDate
    FROM
    applet_order c
    WHERE
    c.del_flag = 0
    AND
    c.service_type IN (1,2)
    AND
    c.order_status = 3
    AND
    c.order_cancel_status = 0
    AND
    c.refund_status = 0
    <if test="acquisitionId != null and acquisitionId != ''">
      AND
      c.acquisition_id = #{acquisitionId,jdbcType=VARCHAR}
    </if>
    <if test="queryParam != null and queryParam !=''">
      AND
      (
      c.participant_name LIKE CONCAT('%', #{queryParam,jdbcType=VARCHAR}, '%')
      OR
      c.participant_phone LIKE CONCAT('%', #{queryParam,jdbcType=VARCHAR}, '%')
      )
    </if>
    GROUP BY
    c.participant_id
    ) a JOIN applet_order b
    ON
    a.participantId = b.participant_id
    AND
    a.maxOrderCompleteApplyDate = b.order_complete_apply_date

    ) d LEFT JOIN applet_order_participant e
    ON d.participantId = e.participant_id
  </select>

  <select id="selectParticipantHistoryById" parameterType="com.tclab.weixinappletservice.model.query.AcquisitionNameOrPhoneQueryParam" resultType="com.tclab.weixinappletservice.model.result.ParticipantHistoryResult">
    SELECT
    b.order_no AS orderNo,
    b.pay_date AS orderTime,
    b.participant_id AS participantId,
    c.participant_id_card AS idCard,
    c.participant_name AS participantName,
    c.participant_phone AS telephone,
    c.participant_sex AS sex,
    c.participant_age AS age,
    c.participant_relationship AS participantRelationship,
    c.participant_address AS participantAddress,
    c.participant_medical_history AS medicalHistory,
    c.participant_remark AS feedback
    FROM
    (
    SELECT
    a.order_no,
    a.pay_date,
    a.participant_id
    FROM
    applet_order a
    WHERE
    a.del_flag = 0
    AND
    a.pay_status = 2
    AND
    a.order_status = 3
    AND
    a.refund_status = 0
    AND
    a.service_type IN (1,2)
    <if test="acquisitionId != null and acquisitionId != ''">
      AND
      a.acquisition_id = #{acquisitionId,jdbcType=VARCHAR}
    </if>
    <if test="queryParam != null and queryParam != ''">
      AND
      a.participant_id = #{queryParam,jdbcType=VARCHAR}
    </if>
    ORDER BY a.pay_date DESC
    ) b JOIN applet_order_participant c
    ON
    b.participant_id = c.participant_id
    ORDER BY b.pay_date DESC
  </select>


  <select id="selectOrderForParticipantVo" parameterType="com.tclab.weixinappletservice.model.query.QueryNoParam" resultType="com.tclab.weixinappletservice.model.vo.clientVo.apiVo.OrderForParticipantVo">
    SELECT
    b.order_no AS orderNo,
    b.create_date AS orderTime,
    b.participant_id AS participantId,
    b.order_remark AS orderRemark,
    b.del_flag AS delFlag,
    b.logistics_status AS logisticsStatus,
    b.order_cancel_status AS orderCancelStatus,
    b.order_exception_status AS orderExceptionStatus,
    b.order_status AS orderStatus,
    b.pay_status AS payStatus,
    b.refund_status AS refundStatus,
    b.verify_status AS verifyStatus,
    b.write_off_status AS writeOffStatus,
    c.participant_name AS participantName,
    c.participant_phone AS telephone,
    c.participant_relationship AS participantRelationship,
    c.participant_address AS participantAddress,
    c.participant_medical_history AS medicalHistory,
    c.participant_remark AS participantRemark,
    c.participant_id_card AS idCard
    FROM
    (
    SELECT
    a.order_no,
    date_format(a.create_date,'%Y/%m/%d %H:%i') as create_date,
    a.participant_id,
    a.order_remark,
    a.order_status,
    a.verify_status,
    a.pay_status,
    a.refund_status,
    a.logistics_status,
    a.write_off_status,
    a.order_exception_status,
    a.order_cancel_status,
    a.del_flag
    FROM
    applet_order a
    WHERE
    1=1
    AND a.del_flag = 0
    <if test="orderNo != null and orderNo !=''">
      AND
      a.order_no = #{orderNo,jdbcType=VARCHAR}
    </if>
    ) b LEFT JOIN applet_order_participant c
    ON b.participant_id = c.participant_id

  </select>

  <select id="acquisitionGetOrderByStatus" parameterType="com.tclab.weixinappletservice.model.query.AcquisitionGetDayPageOrderStatusParam" resultType="com.tclab.weixinappletservice.model.result.OrderDayGroupResult">
    SELECT
    b.orderday AS orderday,
    a.id AS id,a.pid AS pid, a.order_no AS orderNo, a.merchant_id AS merchantId,
    a.order_type AS orderType, a.service_type AS servicetype, a.acquisition_id AS acquisitionId,
    a.acquisition_name AS acquisitionName, a.good_name AS goodName, a.user_id AS userId,
    a.user_name AS userName, a.user_phone AS userPhone, a.user_id_card AS userIdCard,
    a.service_info_id AS serviceInfoId, a.service_info_address AS serviceInfoAddress, a.service_info_person AS serviceInfoPerson,
    a.service_info_phone AS serviceInfoPhone, a.participant_id AS participantId, a.participant_name AS participantName,
    a.participant_phone AS participantPhone, a.participant_id_card AS participantIdCard, a.order_apply_date AS orderApplyDate,
    a.order_complete_apply_date AS orderCompleteApplyDate, a.pay_amount AS payAmount, a.total_amount AS totalAmount,
    a.discount_amount AS discountAmount, a.discount_type AS discountType, a.promotion_id AS promotionId,
    a.promotion_name AS promotionName, a.discount_id AS discountId, a.discount_name AS discountName,
    a.order_status AS orderStatus, a.verify_status AS verifyStatus, a.auditor_id AS auditorId,
    a.pay_status AS payStatus, a.pay_no AS payNo, a.pay_date AS payDate,
    a.refund_status AS refundStatus, a.refund_amount AS refundAmount, a.logistics_status AS logisticsStatus,
    a.logistics_id AS logisticsId, a.write_off_status AS writeOffStatus, a.write_off_code AS writeOffCode,
    a.write_off_date AS writeOffDate, a.cost_department_commission_amount AS costDepartmentCommissionAmount,
    a.cost_organization_commission_amount AS costOrganizationCommissionAmount, a.platform_commission_amount AS platformCommissionAmount,
    a.order_remark AS orderRemark, a.order_exception_status AS orderExceptionStatus, a.order_exception_reason AS orderExceptionReason,
    a.order_cancel_status AS orderCancelStatus, a.order_cancel_type AS orderCancelType, a.order_cancel_reason AS orderCancelReason,
    a.cost_report_charge_amount AS costReportChargeAmount, a.cost_acquisition_charge_amount AS costAcquisitionChargeAmount,
    a.cost_staff_commission_amount AS costStaffCommissionAmount, a.del_flag AS delFlag, a.create_date AS createDate,
    a.update_date AS updateDate
    FROM
    applet_order a,
    (
    SELECT
    DATE_FORMAT(order_current_apply_date,"%Y/%m/%d") AS orderday
    FROM
    applet_order
    WHERE
    del_flag = 0
    <if test="acquisitionId != null and acquisitionId != ''">
      AND
      acquisition_id = #{acquisitionId,jdbcType=VARCHAR}
    </if>
    <if test="serviceTypes != null and serviceTypes.size > 0">
      AND
      service_type
      IN
      <foreach collection="serviceTypes" index="index" item="item" open="(" separator="," close=")">
        #{item}
      </foreach>
    </if>
    <if test="orderStatus != null">
      AND
      order_status = #{orderStatus,jdbcType=INTEGER}
    </if>
    <if test="orderExceptionStatus != null">
      AND
      order_exception_status = #{orderExceptionStatus,jdbcType=INTEGER}
    </if>
    <if test="queryParam != null and queryParam != ''">
      AND
      (
      participant_name LIKE CONCAT('%', #{queryParam,jdbcType=VARCHAR}, '%')
      OR
      participant_phone LIKE CONCAT('%', #{queryParam,jdbcType=VARCHAR}, '%')
      )
    </if>
    AND
    refund_status IN (0,4)
    GROUP BY
    DATE_FORMAT(order_current_apply_date,"%Y/%m/%d")
    ORDER BY orderday DESC
    <if test="orderDayNum != null">
      LIMIT #{orderDayNum,jdbcType=INTEGER}
    </if>
    ) b
    WHERE
    FIND_IN_SET(DATE_FORMAT(order_current_apply_date,"%Y/%m/%d"),b.orderday) > 0
    AND
    b.orderday = DATE_FORMAT(a.order_current_apply_date,"%Y/%m/%d")
    AND a.del_flag = 0
    <if test="acquisitionId != null and acquisitionId != ''">
      AND
      a.acquisition_id = #{acquisitionId,jdbcType=VARCHAR}
    </if>
    <if test="serviceTypes != null and serviceTypes.size > 0">
      AND
      a.service_type
      IN
      <foreach collection="serviceTypes" index="index" item="item" open="(" separator="," close=")">
        #{item}
      </foreach>
    </if>
    <if test="orderStatus != null">
      AND
      a.order_status = #{orderStatus,jdbcType=INTEGER}
    </if>
    <if test="orderExceptionStatus != null">
      AND
      a.order_exception_status = #{orderExceptionStatus,jdbcType=INTEGER}
    </if>
    <if test="queryParam != null and queryParam != ''">
      AND
      (
      a.participant_name LIKE CONCAT('%', #{queryParam,jdbcType=VARCHAR}, '%')
      OR
      a.participant_phone LIKE CONCAT('%', #{queryParam,jdbcType=VARCHAR}, '%')
      )
    </if>
    AND
    a.refund_status IN (0,4)
    ORDER BY b.orderday DESC
  </select>

  <select id="selectByInvoiceStatus" parameterType="com.tclab.weixinappletservice.model.query.InvoiceQueryParam" resultType="com.tclab.weixinappletservice.model.vo.clientVo.apiVo.InvoiceOrderListVo">
    SELECT
    DATE_FORMAT(pay_date,"%Y/%m") AS payDate,
    order_no AS orderNo,
    participant_name AS participantName,
    pay_amount AS payAmount,
    invoice_status AS invoiceStatus
    FROM
    applet_order
    WHERE
    1=1
    AND
    order_status = 2
    AND
    refund_status IN (0,4)
    AND
    pay_status = 2
    <if test="invoiceStatus != null">
      AND
      invoice_status = #{invoiceStatus,jdbcType=INTEGER}
    </if>
    <if test="dateForMonth != null ">
      AND
      DATE_FORMAT(pay_date,"%Y/%m") = #{dateForMonth,jdbcType=VARCHAR}
    </if>
    <if test="userId != null and userId != ''">
      AND
      user_id = #{userId,jdbcType=VARCHAR}
    </if>
    <if test="invoiceApplyId != null and invoiceApplyId != ''">
      AND
      invoice_apply_id = #{invoiceApplyId,jdbcType=VARCHAR}
    </if>
  </select>

  <select id="getSumPayAmount" parameterType="com.tclab.weixinappletservice.model.query.QueryNoParam" resultType="decimal">
    SELECT
    SUM(pay_amount)
    FROM
    applet_order
    WHERE
    1=1
    <if test="orderNoList != null and orderNoList.size > 0">
      AND
      order_no IN
      <foreach collection="orderNoList" index="index" item="item" open="(" separator="," close=")">
        #{item}
      </foreach>
    </if>
    AND
    del_flag = 0
    AND
    order_status IN (2,3)
    AND
    refund_status IN (0,4)
    AND
    pay_status = 2
  </select>
  <select id="getSumRefundAmount" parameterType="com.tclab.weixinappletservice.model.query.QueryNoParam" resultType="decimal">
    SELECT
    SUM(refund_amount)
    FROM
    applet_order
    WHERE
    1=1
    <if test="orderNoList != null and orderNoList.size > 0">
      AND
      order_no IN
      <foreach collection="orderNoList" index="index" item="item" open="(" separator="," close=")">
        #{item}
      </foreach>
    </if>
    AND
    del_flag = 0
    AND
    order_status IN (2,3)
    AND
    refund_status IN (0,4)
    AND
    pay_status = 2
  </select>

</mapper>